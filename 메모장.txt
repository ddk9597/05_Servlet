

내가 만든 웹 서비스의 배포 방식은 아래와 같이 진행함
 - 진행 방식
    1. Client -> Server 요청 : Request. req
    2. Server <- Client 응답 : Response. resp
    ++ Request가 없으면 Server는 움직이지 않음.

 - 필수 개념
    1. Server : 기능을 제공하는 컴퓨터
    2. Client : 기능을 요청하고 이용하는 고객 컴퓨터/기기
    3. IP와 Port 번호

        IP(Internet Protocol) 인터넷/네트워크를 통해 정보 송수신 방법 규약
            - 종류 : IPv4(123.123.123.123), IPv6
            - 기능 : 인터넷/네트워크에 연결된 컴퓨터나 장치를 구분함
            ++ 장치! 를 구분하는 주소

        Port 번호 : 컴퓨터 안의 여러 프로그램을 구분하는 식별 번호
            ++ 컴퓨터를 구분하는 번호가 아니라 컴퓨터 내의 프로그램을 구분하는 번호다!

        +++ IP + Port 번호를 알아야 다른 컴퓨터(서버)와 통신을 요청 할 수 있다.

Servlet : 웹 서비스를 위한 java 클래스
자바를 이용해 웹을 만들기 위해 필요한 기술

- 웹 프로그래밍에서 클라이언트의 요청을  처리하고
  그 결과를 다시 클라이언트에게 응답하는 Servlet 클래스의 구현 규칙을 지킨 자바 프로그래밍 기술
  ==> 자바로 구현된 CGI
  ++ CGI (Common Gateway Interface) : 별도로 제작된 웹 서버와 프로그램간의 교환 방식
    -> 어떤 프로그래밍 언어로도 구현 가능함
    -> 별도로 만든 프로그램에 HTML의 Get 또는 Post 방법으로 클라이언트의 데이터를 환경 변수로 전달
    -> 프로그램의 표준 출력 결과를 클라이언트에게 전송





Servlet 작성 순서
    1. HttpServlet 상속 받기
    
    2. 어노테이션 작성 @WebServlet("url패턴 지정");
        - 서블렛 클래스 등록 + 매핑
        - web.xml 없이 서블렛 설정 가능
        - 여러 url패턴 지정은 배열 형태로 지정 가능
            -> ("/ex1", "/ex2", ...);
    
    3. doGet || doPost 오버라이딩 -> 요청 메서드에 따라 수행함
        요청 메서드의 form 태그 내의 method속성에 지정된 값에 따라 수행함
        doGet : 전송된 데이터가 URL에 노출됨. 보안에 취약함
        doPost : HTTP요청의 body 태그 내에 데이터가 포함되어 전송됨.
                 doGet 보다 더 나은 보안.
                 주로 로그인, 회원가입 등 사용자 정보를 서버로 전송시 사용

    4. 필요한 로직 처리
        - 파라미터 얻어오기
        - 필요한 요청 처리 구문 작성
    
    5. 응답형태 지정 + 응답 스트림 얻어오기
        응답 형태 지정 : resp.setContentType("text/html; charset=utf-8");
        응답 스트림 얻어오기 :
            - PrintWriter out = resp.getWriter(); 
            - JSP 페이지 사용
    
    6. 스트림을 통해 응답 데이터 코드 출력하기(html)


// ---------------------------------------------------------------------------------------- //


JSP : Servlet 응답 화면 만들기 유용한 tool
Servlet -> JSP에게 요청 위임(forward)
jsp는 servlet에 작성된 값 얻어와 응답 화면으로 만들어줌(html)
 - 값 얻어오는 방법
    servlet 에서 값 설정  : req.setAttribute(K:V);
    -> K     : String 고정
    -> V     : 제한 없음
    -> req   : 다른 scope로 대체 가능(page, req, session, application)
    jsp에서 ${}를 활용, 값 얻어오기
    -> ${K} -> K에 할당된 V 값 얻어와짐 


메인페이지 요청 -> 주소"/"( "/" -> webapp 폴더)
 - "/" 요청을 처리하는 Servlet에서 JSP로 forward 해서 메인페이지 응답 화면을 만들어 클라이언트에게 응답


메인페이지 -> 로그인 -> 메인페이지 돌아가기(재요청)
 - 로그인 성공/실패 시
   결과 페이지를 원하는 것이 아니기 때문에 forward에서 응답 화면을 만들 필요가 없다!!

 -> 그런데 응답 없다면 흰 화면만 보임..

 -> 알맞은 화면을 보여주는 주소("/")를 요청함(== 재요청, Redirect)


// ---------------------------------------------------------------------------------------- //
EL(Expression Language)
    - JSP에서 표현식을 간단하고 효율적으로 작성할 수 있도록 고안된 언어 (JSP 기본 내장)

    - Java 값을 HTML 형식으로 표시(출력) 언어

    - 기본 작성 형식 : \${ key } 

EL 특징 1 : get이라는 단어를 사용하지 않음 

    - 출력 용도의 언어이기 때문에 set이라는 개념이 존재하지 않음
    - (반대되는 get만 남아있기 때문에 get이라는 단어를 생략하여 사용)

EL 특징 2 : null, NullPointerException은 빈칸으로 처리
 -> ${empty K} -> K에 대응하는 V 값이 null, 비어있다면 true 출력
 ++ .setAttribute(K : V); -> 



// ---------------------------------------------------------------------------------------- //

Servlet/JSP 내장 객체와 범위(Scope)

    Servlet/JSP에는 4종류 범위를 나타낸 내장 객체가 존재한다!
    -> 각 종류마다 영향을 끼치는 범위가 달라진다

    <>1. page (pageContext) : 현재 페이지
        -> 현재 JSP에서만 사용 가능한 객체(Servlet X)

    <>2. request (요청) == HttpServletRequest

        -> 요청 받은 페이지(Servlet/JSP)와 위임 받은 페이지(Servlet/JSP)에서 유지되는 객체

    <>3. session (입회, 접속)
        session 생성 분기 : 클라이언트가 서버 접속시(브라우저로 사이트 들어왔을 때)
        - session : 서버에 접속한 클라이언트를
                    나타내거나, 관련 정보를 get/set 할 수 있는 객체
                    (session 객체는 서버에서 관리함)

        - [중요!] session은 브라우저 마다 하나씩 생성된다!!!
        (새탭, 새창은 아님)

        - [유지 범위]
        사이트 접속 ~ 브라우저 종료 | 세션 만료

        - session이 유지되는 상태에서는 
        아무 곳에서나 가져다 사용할 수 있다!
        -> ex) 네이버 로그인 후 다른 탭을 열거나, 네이버 서비스 이용할 동안 유지되는 로그인
    
    <>4. apllication (ServletContext)

        네트워크 : 여러 컴퓨터, 장치가 연결되어 정보를 공유할 수 있는 구조
        인터넷   : 네트워크를 통해 정보 공유
        웹       : 인터넷에 연결된 컴퓨터를 통해 정보를 공유할 수 있는 공간    


        - 하나의 웹 애플리케이션 마다 1개만 생성되는 객체
        (Server를 키면 1개만 생성되는 객체)

        - application 객체는 어디서든 사용 가능(자유롭게 접속 가능)

        - [유지 범위]
        서버 실행 ~ 서버 종료

    <>5. 내장 객체의 우선 순위 :  page > request > session > application
         작은 순서로 우선 순위가 높다 -> 같은 이름으로 값 세팅, 출력시 우선된 내장객체가 출력/실행됨